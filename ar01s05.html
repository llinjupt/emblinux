<html><head><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>5. ATPCS&#21644;&#20869;&#23884;&#27719;&#32534;</title><link rel="stylesheet" href="styles.css" type="text/css"><meta name="generator" content="DocBook XSL-NS Stylesheets V1.75.2"><link rel="home" href="index.html" title="Linux&#20869;&#26680;&#23398;&#20064;&#21644;&#30740;&#31350;&#21450;&#23884;&#20837;&#24335;(ARM)&#23398;&#20064;&#21644;&#30740;&#31350;&#30340;&#24320;&#25918;&#25991;&#26723;"><link rel="up" href="index.html" title="Linux&#20869;&#26680;&#23398;&#20064;&#21644;&#30740;&#31350;&#21450;&#23884;&#20837;&#24335;(ARM)&#23398;&#20064;&#21644;&#30740;&#31350;&#30340;&#24320;&#25918;&#25991;&#26723;"><link rel="prev" href="ar01s04.html" title="4. &#25209;&#37327;&#21152;&#36733;&#21644;&#23384;&#20648;&#25351;&#20196;&#23454;&#36341;"><link rel="next" href="ar01s06.html" title="6. Uboot&#21551;&#21160;&#20998;&#26512;"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">5. ATPCS&#21644;&#20869;&#23884;&#27719;&#32534;</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="ar01s04.html">&#19978;&#19968;&#39029;</a> </td><th width="60%" align="center"> </th><td width="20%" align="right"> <a accesskey="n" href="ar01s06.html">&#19979;&#19968;&#39029;</a></td></tr></table><hr></div><div class="sect1" title="5. ATPCS&#21644;&#20869;&#23884;&#27719;&#32534;"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="idp80248364"></a>5. ATPCS&#21644;&#20869;&#23884;&#27719;&#32534;</h2></div></div></div>
<p>
ATPCS(ARM-Thumb Produce Call Standard)&#26159;ARM&#31243;&#24207;&#21644;Thumb&#31243;&#24207;&#20013;&#23376;&#31243;&#24207;&#35843;&#29992;&#30340;&#22522;&#26412;&#35268;&#21017;&#65292;&#36825;&#20123;
&#22522;&#26412;&#35268;&#21017;&#21253;&#25324;&#23376;&#31243;&#24207;&#35843;&#29992;&#36807;&#31243;&#20013;&#23492;&#23384;&#22120;&#30340;&#20351;&#29992;&#35268;&#21017;&#65292;&#25968;&#25454;&#26632;&#30340;&#20351;&#29992;&#35268;&#21017;&#21644;&#21442;&#25968;&#30340;&#20256;&#36882;&#35268;&#21017;&#12290;
</p>
<div class="sect2" title="5.1. ARM&#23492;&#23384;&#22120;"><div class="titlepage"><div><div><h3 class="title"><a name="idp80312852"></a>5.1. ARM&#23492;&#23384;&#22120;</h3></div></div></div>
<p>
&#22312;&#20102;&#35299;&#23492;&#23384;&#22120;&#30340;&#20351;&#29992;&#35268;&#21017;&#20043;&#21069;&#65292;&#39318;&#20808;&#30475;&#19968;&#19979;ARM&#30340;&#23492;&#23384;&#22120;&#12290;
</p><div class="figure"><a name="idp80313372"></a><p class="title"><b>&#22270; 29. arm &#23492;&#23384;&#22120;&#21644;&#23545;&#24212;&#30340;&#27719;&#32534;&#25551;&#36848;&#31526;</b></p><div class="figure-contents"><img src="images/arm_regs.jpg" alt="arm &#23492;&#23384;&#22120;&#21644;&#23545;&#24212;&#30340;&#27719;&#32534;&#25551;&#36848;&#31526;"></div></div><p><br class="figure-break">		
</p>
<p>
&#22270;&#20013;&#32553;&#20889;&#22914;&#19979;&#65306;
</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">R&#65306;Register&#65307;&#23492;&#23384;&#22120;</li><li class="listitem">PC&#65306;Program Counter&#65307;&#31243;&#24207;&#35745;&#25968;&#22120;</li><li class="listitem">CPSR&#65306;Current Program Status Register&#65307;&#24403;&#21069;&#31243;&#24207;&#29366;&#24577;&#23492;&#23384;&#22120;</li><li class="listitem">SPSR&#65306;Saved Program Status Register&#65307;&#20445;&#23384;&#30340;&#31243;&#24207;&#29366;&#24577;&#23492;&#23384;&#22120;</li><li class="listitem">SP&#65306;Stack Pointer&#65307;&#25968;&#25454;&#26632;&#25351;&#38024;</li><li class="listitem">LR&#65306;Link Register&#65307;&#36830;&#25509;&#23492;&#23384;&#22120;</li><li class="listitem">SB&#65306;&#38745;&#24577;&#22522;&#22336;&#23492;&#23384;&#22120;</li><li class="listitem">SL&#65306;&#25968;&#25454;&#26632;&#38480;&#21046;&#25351;&#38024;</li><li class="listitem">FP&#65306;&#24103;&#25351;&#38024;</li><li class="listitem">IP&#65306;Intra-Procedure-call Scratch Register&#65307;&#20869;&#37096;&#31243;&#24207;&#35843;&#29992;&#26242;&#23384;&#23492;&#23384;&#22120;</li></ul></div><p>
</p>
<p>
ARM&#20849;&#26377;37&#20010;&#23492;&#23384;&#22120;&#65292;&#21487;&#20197;&#24037;&#20316;&#22312;7&#31181;&#19981;&#21516;&#30340;&#27169;&#24335;&#12290;&#20197;&#19979;&#26681;&#25454;&#19978;&#22270;&#36827;&#34892;&#20998;&#31867;&#30340;&#35828;&#26126;&#65306;
</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">&#26410;&#20998;&#32452;&#23492;&#23384;&#22120;r0-r7&#20026;&#25152;&#26377;&#27169;&#24335;&#20849;&#29992;&#65292;&#20849;8&#20010;&#12290;</li><li class="listitem">&#20998;&#32452;&#23492;&#23384;&#22120;&#20013;r8-r12&#65292;&#24555;&#36895;&#20013;&#26029;&#27169;&#24335;&#26377;&#33258;&#24049;&#30340;&#19968;&#32452;&#23492;&#23384;&#22120;&#65292;&#20854;&#20182;&#27169;&#24335;&#20849;&#29992;&#65292;&#25152;&#20197;&#26377;10&#20010;&#12290;</li><li class="listitem">&#20998;&#32452;&#23492;&#23384;&#22120;&#20013;r13&#65292;r14&#65292;&#38500;&#20102;&#29992;&#25143;&#27169;&#24335;&#21644;&#31995;&#32479;&#27169;&#24335;&#20849;&#29992;&#22806;&#65292;&#20854;&#20182;&#27169;&#24335;&#21508;&#19968;&#32452;&#65292;&#25152;&#20197;&#20849;&#26377;2*7 - 2 = 12&#20010;&#12290;</li><li class="listitem">r15&#21644;CPSR&#20849;&#29992;&#65292;&#20849;2&#20010;&#65307;SPSR&#38500;&#20102;&#29992;&#25143;&#27169;&#24335;&#21644;&#31995;&#32479;&#27169;&#24335;&#27809;&#26377;&#22806;&#65292;&#20854;&#20182;&#27169;&#24335;&#21508;&#19968;&#20010;&#65292;&#20849;5&#20010;&#12290;</li></ul></div><p>
&#25152;&#20197;&#24635;&#25968;&#20026;8+10+12+2+5 = 37&#20010;&#12290;&#19982;&#27492;&#23545;&#24212;&#30340;&#27719;&#32534;&#21517;&#31216;&#34920;&#26126;&#20102;&#23427;&#20204;&#36890;&#24120;&#30340;&#32422;&#23450;&#29992;&#27861;&#12290;
</p><div class="note" title="&#27880;&#24847;" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">&#27880;&#24847;</h3>&#27719;&#32534;&#20013;&#23545;&#20110;&#23492;&#23384;&#22120;&#21517;&#30340;&#34920;&#31034;(&#27604;&#22914;r0)&#21644;ATPCS&#32422;&#23450;&#26631;&#35760;(&#27604;&#22914;a0)&#30340;&#22823;&#23567;&#20889;&#26159;&#19981;&#25935;&#24863;&#30340;</div><p>
</p><div class="figure"><a name="idp80319516"></a><p class="title"><b>&#22270; 30. &#31243;&#24207;&#29366;&#24577;&#23492;&#23384;&#22120;CPSR</b></p><div class="figure-contents"><img src="images/arm_cpsr.gif" alt="&#31243;&#24207;&#29366;&#24577;&#23492;&#23384;&#22120;CPSR"></div></div><p><br class="figure-break">
</p><div class="itemizedlist" title="&#29366;&#24577;&#20301;"><p class="title"><b>&#29366;&#24577;&#20301;</b></p><ul class="itemizedlist" type="disc"><li class="listitem">N&#65306;&#36816;&#31639;&#32467;&#26524;&#31526;&#21495;&#20301;&#65292;1&#65306;&#36127;&#25968;&#65292;0&#65306;&#27491;&#25968;&#25110;0</li><li class="listitem">Z&#65306;&#36816;&#31639;&#32467;&#26524;&#26159;&#21542;&#20026;0&#65292;1&#65306;&#36816;&#31639;&#32467;&#26524;&#20026;0&#65292;0&#65306;&#36816;&#31639;&#32467;&#26524;&#20026;1</li><li class="listitem">C&#65306;&#21487;&#20197;&#26377;4&#31181;&#26041;&#27861;&#35774;&#32622;C&#30340;&#20540;&#65306;<br>
&#12288;&#12288;&#9472; &#21152;&#27861;&#36816;&#31639;&#65288;&#21253;&#25324;&#27604;&#36739;&#25351;&#20196;CMN&#65289;&#65306;&#24403;&#36816;&#31639;&#32467;&#26524;&#20135;&#29983;&#20102;&#36827;&#20301;&#26102;&#65288;&#26080;&#31526;&#21495;&#25968;&#28322;&#20986;&#65289;&#65292;C=1&#65292;&#21542;&#21017;C=0&#12290;<br>
&#12288;&#12288;&#9472; &#20943;&#27861;&#36816;&#31639;&#65288;&#21253;&#25324;&#27604;&#36739;&#25351;&#20196;CMP&#65289;&#65306;&#24403;&#36816;&#31639;&#26102;&#20135;&#29983;&#20102;&#20511;&#20301;&#65292;C=0&#65292;&#21542;&#21017;C=1&#12290;<br>
&#12288;&#12288;&#9472; &#23545;&#20110;&#21253;&#21547;&#31227;&#20301;&#25805;&#32437;&#30340;&#38750;&#21152;/&#20943;&#36816;&#31639;&#25351;&#20196;&#65292;C&#20026;&#31227;&#20986;&#20540;&#30340;&#26368;&#21518;&#19968;&#20301;&#12290;<br>
&#12288;&#12288;&#9472; &#23545;&#20110;&#20854;&#20182;&#30340;&#38750;&#21152;/&#20943;&#36816;&#31639;&#25351;&#20196;&#65292;C&#30340;&#20540;&#36890;&#24120;&#19981;&#25913;&#21464;&#12290;</li><li class="listitem">V&#65306;&#23545;&#20110;&#21152;/&#20943;&#27861;&#36816;&#31639;&#25351;&#20196;&#65292;&#24403;&#25805;&#32437;&#25968;&#21644;&#36816;&#31639;&#32467;&#26524;&#20026;&#20108;&#36827;&#21046;&#30340;&#34917;&#30721;&#34920;&#31034;&#30340;&#24102;&#31526;&#21495;&#25968;&#26102;&#65292;V=1&#34920;&#31034;&#31526;&#21495;&#20301;&#28322;&#20986;&#12290;&#23545;&#20110;&#20854;&#20182;&#30340;&#38750;&#21152;/&#20943;&#36816;&#31639;&#25351;&#20196;&#65292;V&#30340;&#20540;&#36890;&#24120;&#19981;&#25913;&#21464;</li></ul></div><p>
&#25511;&#21046;&#20301;&#65306;
</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">I&#65306;IRQ&#20351;&#33021;&#20301;&#65292;&#24403;I=1 &#26102;&#65292;&#31105;&#27490;IRQ &#20013;&#26029;&#65307;&#21542;&#21017;&#65292;&#20801;&#35768;IRQ &#20013;&#26029;&#12290;</li><li class="listitem">F&#65306;FIQ&#20351;&#33021;&#20301;&#65292;&#24403;F=1 &#26102;&#65292;&#31105;&#27490;FIQ &#20013;&#26029;&#65307;&#21542;&#21017;&#65292;&#20801;&#35768;FIQ &#20013;&#26029;&#12290;</li><li class="listitem">T&#65306;&#29366;&#24577;&#20301;&#65292;&#29992;&#20110;&#25351;&#26126;&#25351;&#20196;&#25191;&#34892;&#30340;&#29366;&#24577;&#65292;&#21363;&#35828;&#26126;&#26412;&#25351;&#20196;&#26159;ARM &#25351;&#20196;&#65292;&#36824;&#26159;Thumb &#25351;&#20196;&#12290;</li><li class="listitem">M&#65306;&#25511;&#21046;&#20301;M[4&#65306;0]&#25511;&#21046;&#22788;&#29702;&#22120;&#30340;7&#31181;&#24037;&#20316;&#27169;&#24335;</li></ul></div><p>

	</p><div class="table"><a name="idp80324204"></a><p class="title"><b>&#34920; 9. ARM CPU&#30340;7&#31181;&#24037;&#20316;&#27169;&#24335;</b></p><div class="table-contents">
	<table summary="ARM CPU&#30340;7&#31181;&#24037;&#20316;&#27169;&#24335;" border="1"><colgroup><col><col></colgroup><thead><tr><th>&#27169;&#24335;</th><th>&#32553;&#20889;</th><th>M&#25511;&#21046;&#20301;</th><th>&#25551;&#36848;</th></tr></thead><tbody><tr><td>&#29992;&#25143;&#27169;&#24335;</td><td>usr</td><td>0b10000</td><td><div class="literallayout"><p>&#27491;&#24120;&#30340;&#31243;&#24207;&#25191;&#34892;&#27169;&#24335;</p></div></td></tr><tr><td>&#24555;&#36895;&#20013;&#26029;&#27169;&#24335;</td><td>fiq</td><td>0b10001</td><td><div class="literallayout"><p></p></div></td></tr><tr><td>&#20013;&#26029;&#27169;&#24335;</td><td>irq</td><td>0b10010</td><td><div class="literallayout"><p></p></div></td></tr><tr><td>&#31649;&#29702;&#27169;&#24335;</td><td>svc</td><td>0b10011</td><td><div class="literallayout"><p>&#36816;&#34892;&#20855;&#26377;&#29305;&#26435;&#30340;&#25805;&#20316;&#31995;&#32479;&#20219;&#21153;</p></div></td></tr><tr><td>&#25968;&#25454;&#35775;&#38382;&#32456;&#27490;&#27169;&#24335;</td><td>abt</td><td>0b10111</td><td><div class="literallayout"><p>&#25968;&#25454;&#25110;&#25351;&#20196;&#39044;&#21462;&#32456;&#27490;&#26102;&#36827;&#20837;&#35813;&#27169;&#24335;</p></div></td></tr><tr><td>&#26410;&#23450;&#20041;&#27169;&#24335;</td><td>und</td><td>0b11011</td><td><div class="literallayout"><p>&#26410;&#23450;&#20041;&#30340;&#25351;&#20196;&#25191;&#34892;&#26102;&#36827;&#20837;&#35813;&#27169;&#24335;</p></div></td></tr><tr><td>&#31995;&#32479;&#27169;&#24335;</td><td>sys</td><td>0b11111</td><td><div class="literallayout"><p>&#25805;&#20316;&#31995;&#32479;&#20351;&#29992;&#30340;&#20445;&#25252;&#27169;&#24335;</p></div></td></tr></tbody></table>
	</div></div><p><br class="table-break">
&#21487;&#20197;&#36890;&#36807;&#27719;&#32534;&#25351;&#20196;&#26469;&#36827;&#34892;&#27169;&#24335;&#20999;&#25442;&#65292;&#25110;&#32773;&#21457;&#29983;&#21508;&#31867;&#20013;&#26029;&#12289;&#24322;&#24120;&#26102;CPU&#33258;&#21160;&#36827;&#20837;&#30456;&#24212;&#30340;&#27169;&#24335;&#65307;&#38500;&#29992;&#25143;&#27169;&#24335;&#22806;&#65292;&#20854;&#20313;6&#31181;&#24037;&#20316;&#27169;&#24335;&#37117;&#23646;&#20110;&#29305;&#26435;&#27169;&#24335;&#65307;
&#29305;&#26435;&#27169;&#24335;&#20013;&#38500;&#20102;&#31995;&#32479;&#27169;&#24335;&#20197;&#22806;&#30340;&#20854;&#20313;5&#31181;&#27169;&#24335;&#31216;&#20026;&#24322;&#24120;&#27169;&#24335;&#12290;
</p>
</div>
<div class="sect2" title="5.2. &#23492;&#23384;&#22120;&#20351;&#29992;&#35268;&#21017;"><div class="titlepage"><div><div><h3 class="title"><a name="idp80334076"></a>5.2. &#23492;&#23384;&#22120;&#20351;&#29992;&#35268;&#21017;</h3></div></div></div>
	<p>
&#23376;&#31243;&#24207;&#38388;&#36890;&#36807;&#23492;&#23384;&#22120;r0-r3&#26469;&#20256;&#36882;&#21442;&#25968;<sup>[<a name="idp80334548" href="#ftn.idp80334548" class="footnote">2</a>]</sup>&#12290;
&#36825;&#26102;&#65292;&#23492;&#23384;&#22120;r0-r3&#21487;&#35760;&#20316;a1-a4&#12290;&#34987;&#35843;&#29992;&#30340;&#23376;&#31243;&#24207;&#22312;&#36820;&#22238;&#21069;&#26080;&#39035;&#24674;&#22797;&#23492;&#23384;&#22120;r0-r3&#30340;&#20869;&#23481;&#12290;&#22914;&#26524;&#21442;&#25968;&#20010;&#25968;&#22810;&#20110;4&#20010;&#65292;&#23558;&#21097;&#20313;&#30340;&#23383;&#25968;&#25454;&#36890;&#36807;&#25968;&#25454;&#26632;&#26469;&#20256;&#36882;&#12290;
&#25105;&#20204;&#30340;Hello World!&#31034;&#20363;&#23601;&#26159;&#36890;&#36807;r0-r3&#26469;&#20998;&#21035;&#20256;&#36882;&#26631;&#20934;&#36755;&#20986;&#25991;&#20214;&#25551;&#36848;&#65292;&#23383;&#31526;&#20018;&#25351;&#38024;&#21644;&#38271;&#24230;&#32473;&#31995;&#32479;&#35843;&#29992;&#30340;&#12290;
	</p>	
	<p>
&#22312;&#23376;&#31243;&#24207;&#20013;&#65292;&#20351;&#29992;&#23492;&#23384;&#22120;r4-r11&#26469;&#20445;&#23384;&#23616;&#37096;&#21464;&#37327;&#12290;&#36825;&#26102;&#65292;&#23492;&#23384;&#22120;r4-r11&#21487;&#20197;&#35760;&#20316;v1-v8&#12290;&#22914;&#26524;
&#22312;&#23376;&#31243;&#24207;&#20013;&#20351;&#29992;&#20102;&#23492;&#23384;&#22120;v1-v8&#20013;&#26576;&#20123;&#23492;&#23384;&#22120;&#65292;&#21017;&#23376;&#31243;&#24207;&#36827;&#20837;&#26102;&#24517;&#39035;&#20445;&#23384;&#36825;&#20123;&#23492;&#23384;&#22120;&#30340;&#20540;&#65292;&#22312;
&#36820;&#22238;&#21069;&#24517;&#39035;&#24674;&#22797;&#36825;&#20123;&#23492;&#23384;&#22120;&#30340;&#20540;&#12290;&#22312;Thumb<sup>[<a name="idp80335836" href="#ftn.idp80335836" class="footnote">3</a>]</sup>
&#31243;&#24207;&#20013;&#65292;&#36890;&#24120;&#21482;&#33021;&#20351;&#29992;&#23492;&#23384;&#22120;r4-r7&#26469;&#20445;&#23384;&#23616;&#37096;&#21464;&#37327;&#12290;&#21478;&#22806;r9&#12289;r10&#21644;r11&#36824;&#26377;&#19968;&#20010;&#29305;&#27530;&#30340;&#20316;&#29992;&#65292;
&#20998;&#21035;&#35760;&#20026;&#65306;&#38745;&#24577;&#22522;&#22336;&#23492;&#23384;&#22120;sb&#12289;&#25968;&#25454;&#26632;&#38480;&#21046;&#25351;&#38024;sl&#21644;&#24103;&#25351;&#38024;fp&#12290;	
	</p>
&#23492;&#23384;&#22120;r12&#29992;&#20316;&#23376;&#31243;&#24207;&#38388;&#35843;&#29992;&#26102;&#20020;&#26102;&#20445;&#23384;&#26632;&#25351;&#38024;&#65292;&#20989;&#25968;&#36820;&#22238;&#26102;&#20351;&#29992;&#35813;&#23492;&#23384;&#22120;&#36827;&#34892;&#20986;&#26632;&#65292;&#35760;&#20316;IP&#65307;
&#22312;&#23376;&#31243;&#24207;&#38388;&#30340;&#38142;&#25509;&#20195;&#30721;&#20013;&#24120;&#26377;&#36825;&#31181;&#20351;&#29992;&#35268;&#21017;&#65292;&#34987;&#35843;&#29992;&#20989;&#25968;&#22312;&#36820;&#22238;&#20043;&#21069;&#19981;&#24517;&#24674;&#22797; r12&#12290;
	<p>
&#23492;&#23384;&#22120;r13&#29992;&#20316;&#22534;&#26632;&#25351;&#38024;&#65292;&#35760;&#20316;sp&#12290;&#22312;&#23376;&#31243;&#24207;&#20013;&#23492;&#23384;&#22120;R13&#19981;&#33021;&#29992;&#20316;&#20854;&#20182;&#29992;&#36884;&#12290;&#23492;&#23384;&#22120;sp&#22312;&#36827;&#20837;&#23376;
&#31243;&#24207;&#26102;&#30340;&#20540;&#21644;&#36864;&#20986;&#23376;&#31243;&#24207;&#30340;&#20540;&#24517;&#39035;&#30456;&#31561;&#12290;
	</p>
	<p>
&#23492;&#23384;&#22120;r14&#31216;&#20026;&#38142;&#25509;&#23492;&#23384;&#22120;&#65292;&#35760;&#20316;lr&#65292;&#23427;&#29992;&#20110;&#20445;&#23384;&#23376;&#31243;&#24207;&#30340;&#36820;&#22238;&#22320;&#22336;&#12290;&#22914;&#26524;&#22312;&#23376;&#31243;&#24207;&#20013;&#20445;&#23384;&#20102;&#36820;&#22238;
&#22320;&#22336;&#65292;&#23492;&#23384;&#22120;r14&#21017;&#21487;&#20197;&#29992;&#20316;&#20854;&#20182;&#29992;&#36884;&#65292;&#20294;&#22312;&#31243;&#24207;&#36820;&#22238;&#26102;&#35201;&#24674;&#22797;&#12290;
	</p>
	<p>
&#23492;&#23384;&#22120;r15&#20026;&#31243;&#24207;&#35745;&#25968;&#22120;&#65292;&#35760;&#20316;pc&#65292;&#23427;&#19981;&#33021;&#29992;&#20316;&#20854;&#20182;&#29992;&#36884;&#12290;&#22312;&#20013;&#26029;&#31243;&#24207;&#20013;&#65292;&#25152;&#26377;&#30340;&#23492;&#23384;&#22120;&#37117;&#24517;&#39035;&#20445;&#25252;&#65292;&#32534;&#35793;&#22120;&#20250;&#33258;&#21160;&#20445;&#25252;R4&#65374;R11&#12290;
	</p>
	<p>
ATPCS&#20013;&#30340;&#21508;&#23492;&#23384;&#22120;&#22312;ARM&#32534;&#35793;&#22120;&#21644;&#27719;&#32534;&#22120;&#20013;&#37117;&#26159;&#39044;&#23450;&#20041;&#30340;&#65292;&#20063;&#21363;&#23427;&#20204;&#22312;&#32534;&#35793;&#24037;&#20855;&#38598;&#20013;&#24050;&#32463;&#25351;&#23450;&#65292;&#19981;&#33021;&#25913;&#21464;&#12290;
	</p>
	<p>
&#36825;&#37324;&#31532;&#19968;&#27425;&#22312;&#29992;&#25143;&#31354;&#38388;&#32467;&#21512;&#27719;&#32534;&#35821;&#35328;&#21644;C&#35821;&#35328;&#26469;&#32534;&#20889;&#19968;&#20010;&#31034;&#20363;&#65292;&#23427;&#20204;&#29992;&#21040;&#20102;&#19978;&#38754;&#25552;&#21040;&#30340;&#19968;&#20123;&#23492;&#23384;&#22120;&#12290;
hello.c&#21253;&#21547;&#20102;&#19968;&#20010;&#26631;&#20934;GNU C&#31243;&#24207;&#30340;&#20027;&#20989;&#25968;main&#65292;&#23427;&#35843;&#29992;&#20351;&#29992;&#27719;&#32534;&#35821;&#35328;&#20889;&#23376;&#31243;&#24207;strcopy&#65292;&#24182;&#36820;&#22238;
&#20174;&#28304;&#23383;&#31526;&#20018;&#21040;&#30446;&#30340;&#23383;&#31526;&#20018;&#22797;&#21046;&#30340;&#23383;&#31526;&#20010;&#25968;&#12290;

hello.c&#30340;&#20869;&#23481;&#22914;&#19979;&#65306;
</p><pre class="programlisting">
#include &lt;stdio.h&gt;

extern int strcopy(char *dst, const char *src);
int main()
{
        int ret = 0;
        const char *src = "Hello world!";
        char dst[] = "World hello!";

        printf("dst string is \"%s\" and src string is \"%s\"\n", dst, src);

        ret = strcopy(dst, src);

        printf("After copying %d chars and now dst string is \"%s\"\n", ret, dst);

        return 0;
}
</pre><p>
C&#31243;&#24207;&#35843;&#29992;&#27719;&#32534;&#23376;&#31243;&#24207;&#24212;&#39318;&#20808;&#36890;&#36807;extern&#22768;&#26126;&#35201;&#35843;&#29992;&#30340;&#27719;&#32534;&#23376;&#31243;&#24207;&#21517;&#65292;&#23427;&#23601;&#26159;&#27719;&#32534;&#35821;&#35328;&#20351;&#29992;.global&#26631;&#31614;
&#25152;&#23450;&#20041;&#30340;&#31526;&#21495;&#65292;&#23427;&#21578;&#30693;&#36830;&#25509;&#31243;&#24207;&#35813;&#23376;&#31243;&#24207;&#30340;&#22320;&#22336;&#65292;&#30456;&#24403;&#20110;C&#35821;&#35328;&#20013;&#30340;&#20989;&#25968;&#21517;&#12290;&#22768;&#26126;&#20013;&#24418;&#21442;&#20010;&#25968;&#35201;&#19982;&#27719;&#32534;&#23376;
&#31243;&#24207;&#20013;&#38656;&#35201;&#30340;&#21464;&#37327;&#20010;&#25968;&#19968;&#33268;&#65292;&#19988;&#21442;&#25968;&#20256;&#36882;&#35201;&#28385;&#36275;ATPCS&#35268;&#21017;&#12290;&#36825;&#37324;&#20256;&#36882;&#20102;&#20004;&#20010;&#25351;&#38024;&#21442;&#25968;&#65292;&#22312;strcopy.S&#20013;
&#23558;&#36890;&#36807;&#23492;&#23384;&#22120;r0&#21644;r1&#24341;&#29992;&#23427;&#20204;&#12290;
	</p>	
	<p>
strcopy.S&#30340;&#20869;&#23481;&#22914;&#19979;&#65306;
</p><pre class="programlisting">
.section .text
.align 2

.global strcopy
strcopy:
/*let r4 as a counter and return*/
 push {r4}
 mov r4, #0
1:
 ldrb r2, [r1], #1
 strb r2, [r0], #1 
 cmp r2, #0  
 add r4, r4, #1 
 bne 1b

 mov r0, r4     @as a return value
 pop {r4}

 mov pc, lr     @continue to exe next instruction
</pre><p>
strcopy.S&#20351;&#29992;&#20102;r2&#23492;&#23384;&#22120;&#65292;&#23427;&#22312;&#23376;&#31243;&#24207;&#20013;&#20351;&#29992;&#65292;&#26080;&#38656;&#20445;&#23384;&#21363;&#21487;&#36820;&#22238;&#65307;r4&#20316;&#20026;&#35745;&#25968;&#22120;&#65292;&#32479;&#35745;&#22797;&#21046;&#23383;&#31526;&#30340;&#20010;&#25968;&#65292;
&#23427;&#22312;&#31243;&#24207;&#30340;&#24320;&#22987;&#34987;&#20445;&#23384;&#21040;&#26632;&#20013;&#65292;&#24182;&#22312;&#32467;&#26463;&#26102;&#24377;&#20986;&#65292;&#23427;&#30340;&#32479;&#35745;&#20540;&#36890;&#36807;&#23492;&#23384;&#22120;r0&#36820;&#22238;&#12290;&#21478;&#19968;&#20010;&#37325;&#35201;&#30340;&#23492;&#23384;&#22120;&#26159;lr&#65292;
&#23427;&#22312;C&#31243;&#24207;&#35843;&#29992;&#20989;&#25968;&#26102;&#65292;&#34987;&#22635;&#20837;&#20989;&#25968;&#26102;&#38656;&#35201;&#25191;&#34892;&#30340;&#19979;&#19968;&#26465;&#25351;&#20196;&#30340;&#22320;&#22336;&#65292;&#25152;&#20197;&#23376;&#31243;&#24207;&#25191;&#34892;&#32467;&#26463;&#21518;&#65292;&#38656;&#35201;&#25226;&#23427;&#36171;
&#20540;&#32473;&#31243;&#24207;&#35745;&#25968;&#22120;pc&#12290;
	</p>
	<p>	
&#23581;&#35797;&#22914;&#19979;&#30340;&#26041;&#27861;&#36827;&#34892;&#32534;&#35793;&#65292;&#23427;&#35753;&#25105;&#20204;&#26356;&#22909;&#30340;&#29702;&#35299;GCC&#32534;&#35793;&#30340;&#26412;&#36136;&#12290;
</p><pre class="programlisting">
# arm-linux-gcc -c hello.c -o hello.o 
# arm-linux-as -c strcopy.S -o strcopy.o
# arm-linux-ld  hello.o strcpy.o -o hello
arm-linux-ld: warning: cannot find entry symbol _start; defaulting to 00008080
hello.o: In function `main':
hello.c:(.text+0x38): undefined reference to `memcpy'
hello.c:(.text+0x4c): undefined reference to `printf'
hello.c:(.text+0x78): undefined reference to `printf'
</pre><p>
arm-linux-ld&#24182;&#19981;&#33021;&#33258;&#24049;&#25214;&#21040;&#25152;&#38656;&#21160;&#24577;&#24211;&#20197;&#21450;&#36335;&#24452;&#65292;&#32780;&#36825;&#20123;&#20107;&#24773;gcc&#24110;&#25105;&#20204;&#38598;&#25104;&#22312;&#20102;&#19968;&#36215;&#12290;&#19968;&#20010;&#31616;&#20171;&#32780;&#26377;&#25928;&#30340;&#21629;&#20196;
&#22914;&#19979;&#65292;&#20026;&#20102;&#25171;&#21360;&#20986;&#25972;&#20010;&#32534;&#35793;&#30340;&#23454;&#38469;&#36807;&#31243;&#65292;&#20351;&#29992;&#21442;&#25968;-v&#65306;
</p><pre class="programlisting">
# arm-linux-gcc  hello.o strcpy.o -o hello -v
arm-linux-gcc  hello.o strcpy.o -o hello -v
Using built-in specs.
Target: arm-unknown-linux-gnueabi
Configured with: ......
Thread model: posix
gcc version 4.2.2
 /usr/local/arm/4.2.2-eabi/usr/bin-ccache/../libexec/gcc/arm-unknown-linux-gnueabi/4.2.2/collect2 
 --sysroot=/usr/local/arm/4.2.2-eabi/ --eh-frame-hdr -dynamic-linker /lib/ld-linux.so.3 -X -m armelf_linux_eabi 
 -o hello /usr/local/arm/4.2.2-eabi//usr/lib/crt1.o /usr/local/arm/4.2.2-eabi//usr/lib/crti.o 
 /usr/local/arm/4.2.2-eabi/usr/bin-ccache/../lib/gcc/arm-unknown-linux-gnueabi/4.2.2/crtbegin.o 
 -L/usr/local/arm/4.2.2-eabi/usr/bin-ccache/../lib/gcc/arm-unknown-linux-gnueabi/4.2.2 
 -L/usr/local/arm/4.2.2-eabi/usr/bin-ccache/../lib/gcc 
 -L/usr/local/arm/4.2.2-eabi//lib -L/usr/local/arm/4.2.2-eabi//usr/lib hello.o strcpy.o 
 -lgcc --as-needed -lgcc_s --no-as-needed -lc -lgcc --as-needed -lgcc_s --no-as-needed 
 /usr/local/arm/4.2.2-eabi/usr/bin-ccache/../lib/gcc/arm-unknown-linux-gnueabi/4.2.2/crtend.o 
 /usr/local/arm/4.2.2-eabi//usr/lib/crtn.o
</pre><p>
&#27880;&#24847;&#21040;collect2&#21629;&#20196;&#65292;&#23427;&#31867;&#20284;&#20110;ld&#65292;&#20294;&#26159;&#23427;&#39318;&#20808;&#20174;&#30456;&#20851;&#30340;&#30446;&#24405;&#20013;&#26597;&#25214;&#38656;&#35201;&#30340;.o&#25991;&#20214;&#21644;&#21160;&#24577;&#24211;&#20877;&#25226;&#23427;&#20204;&#38142;&#25509;&#36215;&#26469;&#12290;&#24212;&#29992;&#31243;&#24207;&#30340;&#32467;&#26524;&#25191;&#34892;&#22914;&#19979;&#65306;
</p><pre class="programlisting">
# ./hello 
dst string is "World hello!" and src string is "Hello world!"
After copying 13 chars and now dst string is "Hello world!"
</pre><p>
	</p>	
</div>
<div class="sect2" title="5.3. &#25968;&#25454;&#26632;&#30340;&#20351;&#29992;"><div class="titlepage"><div><div><h3 class="title"><a name="idp80344508"></a>5.3. &#25968;&#25454;&#26632;&#30340;&#20351;&#29992;</h3></div></div></div>
	<p>
	</p><div class="figure"><a name="idp80344980"></a><p class="title"><b>&#22270; 31. &#25968;&#25454;&#26632;&#30340;&#20998;&#31867;</b></p><div class="figure-contents"><div><img src="images/arm_stack.jpg" alt="&#25968;&#25454;&#26632;&#30340;&#20998;&#31867;"></div></div></div><p><br class="figure-break">	
&#26681;&#25454;&#22534;&#26632;&#25351;&#38024;&#25351;&#21521;&#20301;&#32622;&#30340;&#19981;&#21516;&#65292;&#22534;&#26632;&#21487;&#20998;&#20026;&#28385;&#26632;&#21644;&#31354;&#26632;2&#31181;&#12290;&#24403;&#22534;&#26632;&#25351;&#38024;&#25351;&#21521;&#26632;&#39030;&#20803;&#32032;&#65292;&#21363;&#25351;&#21521;&#26368;&#21518;&#19968;&#20010;&#20837;&#26632;&#30340;&#25968;&#25454;&#20803;&#32032;&#26102;&#65292;&#31216;&#20026;&#28385;&#26632;&#65307;&#24403;&#22534;&#26632;&#25351;&#38024;&#25351;&#21521;&#19982;&#26632;&#39030;&#20803;&#32032;&#30456;&#37051;&#30340;&#19968;&#20010;&#21487;&#29992;
&#25968;&#25454;&#21333;&#20803;&#26102;&#65292;&#31216;&#20026;&#31354;&#26632;&#12290;
	</p>	
	<p>
&#26681;&#25454;&#25968;&#25454;&#26632;&#22686;&#38271;&#26041;&#21521;&#30340;&#19981;&#21516;&#20063;&#21487;&#20998;&#20026;&#36882;&#22686;&#22534;&#26632;&#21644;&#36882;&#20943;&#22534;&#26632;2&#31181;&#12290;&#24403;&#25968;&#25454;&#26632;&#21521;&#20869;&#23384;&#22320;&#22336;&#20943;&#23569;&#30340;&#26041;&#21521;&#22686;&#38271;&#26102;&#65292;&#31216;&#20026;&#36882;&#20943;&#22534;&#26632;&#65292;&#24403;&#25968;&#25454;&#26632;&#21521;&#20869;&#23384;&#22320;&#22336;&#22686;&#21152;&#30340;&#26041;&#21521;&#22686;&#38271;&#26102;&#65292;&#31216;&#20026;&#36882;&#22686;&#22534;&#26632;&#12290;
	</p>	
	<p>
&#28385;&#26632;&#21644;&#31354;&#26632;&#20197;&#21450;&#20004;&#31181;&#22686;&#38271;&#26041;&#24335;&#30340;&#32452;&#21512;&#23558;&#21487;&#26377;&#20197;&#19979;4&#31181;&#25968;&#25454;&#26632;&#65306;
		 FD       &#28385;&#36882;&#20943;&#65292;
     ED       &#31354;&#36882;&#20943;&#65292;
     FA       &#28385;&#36882;&#22686;&#65292;
     EA       &#31354;&#36882;&#22686;&#12290;
ATPCS&#35268;&#23450;&#25968;&#25454;&#26632;&#20026;FD&#31867;&#22411;,&#24182;&#19988;&#23545;&#25968;&#25454;&#26632;&#30340;&#25805;&#20316;&#26159;8&#23383;&#33410;&#23545;&#40784;&#12290;PUSH&#21644;POP&#25351;&#20196;&#21363;&#37319;&#29992;&#28385;&#38477;&#24207;&#22534;&#26632;&#65292;&#27599;&#27425;&#22312; POP &#25351;&#20196;&#20013;&#25191;&#34892;&#20256;&#36865;&#21518;&#23558;&#36882;&#22686;&#22320;&#22336;&#65292;&#27599;&#27425;&#22312; PUSH &#25351;&#20196;&#20013;&#25191;&#34892;&#20256;&#36865;&#21069;
&#23558;&#36882;&#20943;&#22320;&#22336;&#12290;&#19982;&#20854;&#23545;&#24212;&#30340;&#22810;&#25968;&#25454;&#20256;&#36755;&#25351;&#20196;&#26159;STMFD&#21644;LDMFD&#12290;
</p><div class="figure"><a name="idp80347124"></a><p class="title"><b>&#22270; 32. ATPCS&#25968;&#25454;&#26632;</b></p><div class="figure-contents"><div><img src="images/arm_atpcs_stack.jpg" alt="ATPCS&#25968;&#25454;&#26632;"></div></div></div><p><br class="figure-break"></p>
	<p>
&#25968;&#25454;&#26632;&#30001;&#20197;&#19979;&#21442;&#25968;&#25551;&#36848;&#65306;
</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">&#25968;&#25454;&#26632;&#25351;&#38024;SP&#65292;&#25351;&#21521;&#24403;&#21069;&#26632;&#30340;&#26632;&#39030;&#65292;&#25110;&#32773;&#26632;&#39030;&#30340;&#19979;&#19968;&#20010;&#21487;&#20889;&#20837;&#30340;&#22320;&#22336;&#12290;</li><li class="listitem">&#25968;&#25454;&#26632;&#30340;&#22522;&#22320;&#22336;SB&#65292;&#26159;&#25351;&#25968;&#25454;&#26632;&#30340;&#26368;&#39640;/&#26368;&#20302;&#22320;&#22336;&#65292;&#30001;&#20110;ATPCS&#20013;&#30340;&#25968;&#25454;&#26632;&#26159;FD&#31867;&#22411;&#30340;&#65292;&#23454;&#38469;&#19978;&#25968;&#25454;&#26632;&#20013;&#26368;&#26089;&#20837;&#26632;&#25968;&#25454;&#21344;&#25454;&#30340;&#20869;&#23384;&#21333;&#20803;&#26159;&#22522;&#22320;&#22336;&#30340;&#19979;&#19968;&#20010;&#20869;&#23384;&#21333;&#20803;.
</li><li class="listitem">&#25968;&#25454;&#26632;&#30028;&#38480;SL&#65292;&#25351;&#25968;&#25454;&#26632;&#20013;&#21487;&#20197;&#20351;&#29992;&#30340;&#26368;&#20302;/&#26368;&#39640;&#30340;&#20869;&#23384;&#21333;&#20803;&#22320;&#22336;&#12290;</li><li class="listitem">&#24050;&#21344;&#29992;&#30340;&#25968;&#25454;&#26632;&#65292;&#26159;&#25351;&#25968;&#25454;&#26632;&#30340;&#22522;&#22320;&#22336;&#21644;&#25968;&#25454;&#26632;&#26632;&#25351;&#38024;&#20043;&#38388;&#30340;&#21306;&#22495;&#12290;&#20854;&#20013;&#21253;&#25324;&#25968;&#25454;&#26632;&#26632;&#25351;&#38024;&#23545;&#24212;&#30340;&#20869;&#23384;&#21333;&#20803;&#65292;&#19981;&#21253;&#25324;&#22522;&#22320;&#22336;&#23545;&#24212;&#30340;&#20869;&#23384;&#21333;&#20803;&#12290;</li><li class="listitem">&#25968;&#25454;&#26632;&#20013;&#30340;&#25968;&#25454;&#24103;SF(stack frames)&#26159;&#25351;&#22312;&#25968;&#25454;&#26632;&#20013;&#65292;&#20026;&#23376;&#31243;&#24207;&#20998;&#37197;&#30340;&#29992;&#26469;&#20445;&#23384;&#23492;&#23384;&#22120;&#21644;&#23616;&#37096;&#21464;&#37327;&#30340;&#21306;&#22495;&#12290;</li></ul></div><p> 
	</p>
	<p>
&#24403;&#20989;&#25968;&#35843;&#29992;&#26102;&#65292;&#22914;&#26524;&#21442;&#25968;&#36229;&#36807;4&#20010;&#65292;&#25968;&#25454;&#26632;&#23558;&#29992;&#26469;&#20256;&#36882;&#20989;&#25968;&#21442;&#25968;&#65292;&#21478;&#22806;&#19968;&#20010;&#37325;&#35201;&#20316;&#29992;&#26159;&#29992;&#26469;&#23384;&#20648;&#23616;&#37096;&#21464;&#37327;&#12290;ATPCS&#23545;&#21442;&#25968;&#20256;&#36882;&#30340;&#26377;&#20197;&#19979;&#35268;&#23450;&#12290;
&#26681;&#25454;&#21442;&#25968;&#20010;&#25968;&#26159;&#21542;&#22266;&#23450;&#21487;&#23558;&#23376;&#31243;&#24207;&#20998;&#20026;&#21442;&#25968;&#20010;&#25968;&#22266;&#23450;&#30340;&#23376;&#31243;&#24207;&#21644;&#21442;&#25968;&#20010;&#25968;&#21487;&#21464;&#30340;&#23376;&#31243;&#24207;.&#36825;2&#31181;&#23376;&#31243;&#24207;&#30340;&#21442;&#25968;&#20256;&#36882;&#35268;&#21017;&#26159;&#19981;&#21516;&#30340;&#12290;

</p><div class="itemizedlist" title="&#21442;&#25968;&#20010;&#25968;&#21487;&#21464;&#30340;&#23376;&#31243;&#24207;&#21442;&#25968;&#20256;&#36882;&#35268;&#21017;"><p class="title"><b>&#21442;&#25968;&#20010;&#25968;&#21487;&#21464;&#30340;&#23376;&#31243;&#24207;&#21442;&#25968;&#20256;&#36882;&#35268;&#21017;</b></p><ul class="itemizedlist" type="disc"><li class="listitem">&#24403;&#21442;&#25968;&#19981;&#36229;&#36807;4&#20010;&#26102;,&#21487;&#20197;&#20351;&#29992;&#23492;&#23384;&#22120;R0~R3&#26469;&#36827;&#34892;&#21442;&#25968;&#20256;&#36882;&#12290;</li><li class="listitem">&#24403;&#21442;&#25968;&#36229;&#36807;4&#20010;&#26102;&#65292;&#20351;&#29992;&#25968;&#25454;&#26632;&#26469;&#20256;&#36882;&#21442;&#25968;&#12290;</li><li class="listitem">&#22312;&#21442;&#25968;&#20256;&#36882;&#26102;,&#23558;&#25152;&#26377;&#21442;&#25968;&#30475;&#20570;&#26159;&#23384;&#25918;&#22312;&#36830;&#32493;&#30340;&#20869;&#23384;&#21333;&#20803;&#20013;&#30340;&#23383;&#25968;&#25454;&#12290;&#28982;&#21518;,&#20381;&#27425;&#23558;&#21508;&#21517;&#23383;&#25968;&#25454;&#20256;&#36865;&#21040;&#23492;&#23384;&#22120;R0,R1,R2,R3; &#22914;&#26524;&#21442;&#25968;&#22810;&#20110;4&#20010;,&#23558;&#21097;&#20313;&#30340;&#23383;&#25968;&#25454;&#20256;&#36865;&#21040;&#25968;&#25454;&#26632;&#20013;,&#20837;&#26632;&#30340;&#39034;&#24207;&#19982;&#21442;&#25968;&#39034;&#24207;&#30456;&#21453;,&#21363;&#26368;&#21518;&#19968;&#20010;&#23383;&#25968;&#25454;&#20808;&#20837;&#26632;&#12290;</li><li class="listitem">&#25353;&#29031;&#19978;&#38754;&#30340;&#35268;&#21017;,&#19968;&#20010;&#28014;&#28857;&#25968;&#21442;&#25968;&#21487;&#20197;&#36890;&#36807;&#23492;&#23384;&#22120;&#20256;&#36882;&#65292;&#20063;&#21487;&#20197;&#36890;&#36807;&#25968;&#25454;&#26632;&#20256;&#36882;,&#20063;&#21487;&#33021;&#19968;&#21322;&#36890;&#36807;&#23492;&#23384;&#22120;&#20256;&#36882;&#65292;&#21478;&#19968;&#21322;&#36890;&#36807;&#25968;&#25454;&#26632;&#20256;&#36882;&#12290;</li></ul></div><p>
</p><div class="itemizedlist" title="&#21442;&#25968;&#20010;&#25968;&#22266;&#23450;&#30340;&#23376;&#31243;&#24207;&#21442;&#25968;&#20256;&#36882;&#35268;&#21017;"><p class="title"><b>&#21442;&#25968;&#20010;&#25968;&#22266;&#23450;&#30340;&#23376;&#31243;&#24207;&#21442;&#25968;&#20256;&#36882;&#35268;&#21017;</b></p><ul class="itemizedlist" type="disc"><li class="listitem">&#23545;&#20110;&#21442;&#25968;&#20010;&#25968;&#22266;&#23450;&#30340;&#23376;&#31243;&#24207;,&#21442;&#25968;&#20256;&#36882;&#19982;&#21442;&#25968;&#20010;&#25968;&#21487;&#21464;&#30340;&#23376;&#31243;&#24207;&#21442;&#25968;&#20256;&#36882;&#35268;&#21017;&#19981;&#21516;,&#22914;&#26524;&#31995;&#32479;&#21253;&#21547;&#28014;&#28857;&#36816;&#31639;&#30340;&#30828;&#20214;&#37096;&#20214;,&#28014;&#28857;&#21442;&#25968;&#23558;&#25353;&#29031;&#19979;&#38754;&#30340;&#35268;&#21017;&#20256;&#36882;: &#21508;&#20010;&#28014;&#28857;&#21442;&#25968;&#25353;&#39034;&#24207;&#22788;&#29702;;&#20026;&#27599;&#20010;&#28014;&#28857;&#21442;&#25968;&#20998;&#37197;FP&#23492;&#23384;&#22120;;&#20998;&#37197;&#30340;&#26041;&#27861;&#26159;,&#28385;&#36275;&#35813;&#28014;&#28857;&#21442;&#25968;&#38656;&#35201;&#30340;&#19988;&#32534;&#21495;&#26368;&#23567;&#30340;&#19968;&#32452;&#36830;&#32493;&#30340;FP&#23492;&#23384;&#22120;&#12290;&#31532;&#19968;&#20010;&#25972;&#25968;&#21442;&#25968;&#36890;&#36807;&#23492;&#23384;&#22120;R0~R3&#26469;&#20256;&#36882;,&#20854;&#20182;&#21442;&#25968;&#36890;&#36807;&#25968;&#25454;&#26632;&#20256;&#36882;&#12290;</li></ul></div><p>
&#19968;&#20010;&#20351;&#29992;&#22534;&#26632;&#20256;&#36882;&#21442;&#25968;&#30340;&#20363;&#23376;&#22914;&#19979;&#65292;&#23427;&#20351;&#29992;&#27719;&#32534;&#35745;&#31639;6&#20010;&#25972;&#22411;&#25968;&#30340;&#21644;&#24182;&#36820;&#22238;&#65292;&#36890;&#36807;C&#35821;&#35328;&#20013;&#30340;printf&#20989;&#25968;&#25171;&#21360;&#20986;&#32467;&#26524;&#12290;&#23427;&#21253;&#21547;&#20004;&#20010;&#25991;&#20214;:prt.c&#21644;sum.S&#12290;
</p><pre class="programlisting">
#include &lt;stdio.h&gt;

extern int sum(int a, int b, int c, int d, int e, int f);
int main()
{
        printf("sum is :%d\n", sum(1, 2, 3, 4, 5, 6));
        return 0;
}
</pre><p>	
</p><pre class="programlisting">
.section .text
.global sum
sum:
 add r0, r0, r1
 add r0, r0, r2
 add r0, r0, r3
 pop {r1, r2}
 add r0, r0, r1
 add r0, r0, r2
 mov pc, lr     @continue to exe next instruction
</pre><p>	
&#20026;&#20102;&#39564;&#35777;&#21442;&#25968;&#20256;&#36882;&#30830;&#23454;&#20351;&#29992;&#20102;&#22534;&#26632;&#65292;&#36890;&#36807;gdb&#26469;&#23545;&#31243;&#24207;&#36827;&#34892;&#21333;&#27493;&#35843;&#35797;&#12290;
</p><pre class="programlisting">
(gdb) b main	//&#22312;main&#21644;sum&#22788;&#35774;&#32622;&#31243;&#24207;&#26029;&#28857;
Note: breakpoint 1 also set at pc 0x8394.
Breakpoint 2 at 0x8394
(gdb) b sum
Breakpoint 3 at 0x8368
(gdb) r  
Starting program: /tmp/asm 
//&#26597;&#30475;&#36816;&#34892;&#21040;main&#20043;&#21069;&#30340;&#23492;&#23384;&#22120;&#29366;&#24577;
Breakpoint 1, 0x00008394 in main ()
(gdb) show reg
Undefined show command: "reg".  Try "help show".
(gdb) info reg
r0             0x1      1
r1             0xbedb3e94       3202039444
r2             0xbedb3e9c       3202039452
r3             0x0      0
......
sp             0xbedb3d30       0xbedb3d30
lr             0x4003b004       1073983492
pc             0x8394   0x8394 &lt;main+16&gt;
fps            0x1001000        16781312
cpsr           0x60000010       1610612752
(gdb) n   
Single stepping until exit from function main,
which has no line number information.
//&#26597;&#30475;&#36816;&#34892;&#21040;sum&#20043;&#21069;&#30340;&#23492;&#23384;&#22120;&#29366;&#24577;&#65292;&#21487;&#20197;&#30475;&#20986;&#27492;&#26102;r0-r1&#23545;&#24212;&#21442;&#25968;1-4
Breakpoint 3, 0x00008368 in sum ()
(gdb) info reg
r0             0x1      1
r1             0x2      2
r2             0x3      3
r3             0x4      4
......
sp             0xbedb3d30       0xbedb3d30
lr             0x83b8   33720
pc             0x8368   0x8368 &lt;sum&gt;
fps            0x1001000        16781312
cpsr           0x60000010       1610612752
(gdb) x/2 $sp	// &#26597;&#30475;&#22534;&#26632;&#20013;&#25968;&#25454;&#65292;&#26632;&#39030;&#25968;&#25454;&#20026;5&#65292;&#20063;&#21363;&#21442;&#25968;6&#20808;&#20837;&#26632;
0xbedb3d30:     5       6
(gdb)c
sum is :21
</pre><p>
	</p>		
</div>
<div class="sect2" title="5.4. &#36820;&#22238;&#20540;&#19982;&#23492;&#23384;&#22120;"><div class="titlepage"><div><div><h3 class="title"><a name="idp80356516"></a>5.4. &#36820;&#22238;&#20540;&#19982;&#23492;&#23384;&#22120;</h3></div></div></div>
<p>
</p><div class="itemizedlist" title="&#23376;&#31243;&#24207;&#32467;&#26524;&#36820;&#22238;&#35268;&#21017;&#65306;"><p class="title"><b>&#23376;&#31243;&#24207;&#32467;&#26524;&#36820;&#22238;&#35268;&#21017;&#65306;</b></p><ul class="itemizedlist" type="disc"><li class="listitem">&#32467;&#26524;&#20026;&#19968;&#20010;32&#20301;&#30340;&#25972;&#25968;&#26102;&#65292;&#36890;&#36807;&#23492;&#23384;&#22120;r0&#36820;&#22238;&#65307;&#32467;&#26524;&#20026;&#19968;&#20010;64&#20301;&#25972;&#25968;&#26102;&#65292;&#36890;&#36807;&#23492;&#23384;&#22120;r0&#65292;r1&#36820;&#22238;&#12290;</li><li class="listitem">&#32467;&#26524;&#20026;&#19968;&#20010;&#28014;&#28857;&#25968;&#26102;&#65292;&#21487;&#20197;&#36890;&#36807;&#28014;&#28857;&#36816;&#31639;&#37096;&#20214;&#30340;&#23492;&#23384;&#22120;f0&#12289;d0&#25110;&#32773;s0&#26469;&#36820;&#22238;&#65307;&#32467;&#26524;&#20026;&#22797;&#21512;&#22411;&#30340;&#28014;&#28857;&#25968;&#65288;&#22914;&#22797;&#25968;&#65289;&#26102;&#65292;&#21487;&#20197;&#36890;&#36807;&#23492;&#23384;&#22120;f0&#65374;fn&#25110;&#32773;d0&#65374;dn&#26469;&#36820;&#22238;&#12290;</li><li class="listitem">&#23545;&#20110;&#20301;&#25968;&#26356;&#22810;&#30340;&#32467;&#26524;&#65292;&#38656;&#35201;&#36890;&#36807;&#20869;&#23384;&#26469;&#20256;&#36882;&#12290;</li></ul></div><p> 
	</p>
</div>
<div class="sect2" title="5.5. &#20869;&#23884;&#27719;&#32534;"><div class="titlepage"><div><div><h3 class="title"><a name="idp80358260"></a>5.5. &#20869;&#23884;&#27719;&#32534;</h3></div></div></div>
&#36890;&#36807;ATPCS&#21487;&#20197;&#23454;&#29616;C&#35821;&#35328;&#21644;&#27719;&#32534;&#35821;&#35328;&#20195;&#30721;&#30340;&#20114;&#30456;&#35843;&#29992;&#65292;&#20294;&#26159;&#22914;&#26524;&#27719;&#32534;&#20195;&#30721;&#36739;&#23569;&#65292;&#25110;&#32773;&#38656;&#35201;&#22312;C&#35821;&#35328;&#20013;&#30452;&#25509;&#35835;&#21462;&#25110;&#32773;&#35774;&#32622;&#23492;&#23384;&#22120;&#20540;&#65292;&#37027;&#20040;&#23601;&#38656;&#35201;&#20869;&#23884;&#27719;&#32534;&#20102;&#12290;&#22312;C&#20013;&#20869;&#23884;&#30340;&#27719;&#32534;&#25351;&#20196;&#21253;&#21547;&#22823;&#37096;&#20998;&#30340;ARM&#21644;Thumb&#25351;&#20196;&#65292;&#19981;&#36807;&#20854;&#20351;&#29992;&#19982;&#27719;&#32534;&#25991;&#20214;&#20013;&#30340;&#25351;&#20196;&#26377;&#20123;&#19981;&#21516;&#65292;&#23384;&#22312;&#19968;&#20123;&#38480;&#21046;&#65306;
<div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">&#19981;&#21487;&#30452;&#25509;&#20889;pc&#23492;&#23384;&#22120;&#65292;&#31243;&#24207;&#36339;&#36716;&#35201;&#20351;&#29992;b&#25110;&#32773;bl&#25351;&#20196;&#12290;</li><li class="listitem">&#22312;&#20351;&#29992;&#29289;&#29702;&#23492;&#23384;&#22120;&#26102;&#65292;&#19981;&#35201;&#20351;&#29992;&#36807;&#20110;&#22797;&#26434;&#30340;C&#34920;&#36798;&#24335;&#65292;&#36991;&#20813;&#29289;&#29702;&#23492;&#23384;&#22120;&#20914;&#31361;&#12290;</li><li class="listitem">&#19981;&#33021;&#30452;&#25509;&#24341;&#29992;C&#35821;&#35328;&#20013;&#30340;&#21464;&#37327;&#12290;</li></ul></div>
ARM Gcc&#20869;&#23884;&#27719;&#32534;&#35821;&#27861;&#22914;&#19979;&#65306;
<pre class="programlisting">
__asm__(code : output operand list : input operand list : clobber list); 
/* or in chinese */
__asm__(&#27719;&#32534;&#35821;&#21477;&#27169;&#26495;: &#36755;&#20986;&#37096;&#20998;: &#36755;&#20837;&#37096;&#20998;: &#20462;&#25913;&#37096;&#20998;)
</pre>
&#20849;&#22235;&#20010;&#37096;&#20998;&#65306;&#27719;&#32534;&#35821;&#21477;&#27169;&#26495;&#65292;&#36755;&#20986;&#37096;&#20998;&#65292;&#36755;&#20837;&#37096;&#20998;&#65292;&#20462;&#25913;&#37096;&#20998;&#65292;&#21508;&#37096;&#20998;&#20351;&#29992;":"&#26684;&#24320;&#65292;&#27719;&#32534;&#35821;&#21477;&#27169;&#26495;&#24517;&#19981;&#21487;&#23569;&#65292;&#20854;&#20182;&#19977;&#37096;&#20998;&#21487;&#36873;&#65292;&#22914;&#26524;&#20351;&#29992;&#20102;&#21518;&#38754;&#30340;&#37096;&#20998;&#65292;&#32780;&#21069;&#38754;&#37096;&#20998;&#20026;&#31354;&#65292;&#20063;&#38656;&#35201;&#29992;":"&#26684;&#24320;&#65292;&#30456;&#24212;&#37096;&#20998;&#20869;&#23481;&#20026;&#31354;&#12290;&#20363;&#22914;&#65306;
<pre class="programlisting">
__asm__ __volatile__("cli": : :"memory")
</pre>
<div class="sect3" title="5.5.1. &#27719;&#32534;&#35821;&#21477;&#27169;&#26495;"><div class="titlepage"><div><div><h4 class="title"><a name="idp80361524"></a>5.5.1. &#27719;&#32534;&#35821;&#21477;&#27169;&#26495;</h4></div></div></div>
&#27719;&#32534;&#35821;&#21477;&#27169;&#26495;&#30001;&#27719;&#32534;&#35821;&#21477;&#24207;&#21015;&#32452;&#25104;&#65292;&#35821;&#21477;&#20043;&#38388;&#20351;&#29992;&#8220;;&#8221;&#12289;&#8220;\n&#8221;&#12289;&#8220;\r\n&#8221;&#25110;&#8220;\n\t&#8221;&#20998;&#24320;&#12290;&#20063;&#21487;&#20197;&#20026;&#20309;&#32654;&#35266;&#21644;&#38405;&#35835;&#23558;&#35821;&#21477;&#24207;&#21015;&#20998;&#34892;&#20070;&#20889;&#12290;
<pre class="programlisting">
__asm__("mov r0, r0; mov r0, r0"); /* split by ";" */
__asm__("mov r0, r0\nmov r0, r0"); /* split by "\n" */
......
__asm__("mov r0, r0\n"  /* multiple lines */
        "mov r0, r0"); 
</pre>
&#25351;&#20196;&#20013;&#30340;&#25805;&#20316;&#25968;&#21487;&#20197;&#20351;&#29992;&#21344;&#20301;&#31526;&#24341;&#29992;C&#35821;&#35328;&#21464;&#37327;&#65292;&#25805;&#20316;&#25968;&#21344;&#20301;&#31526;&#26368;&#22810;10&#20010;&#65292;&#21517;&#31216;&#22914;&#19979;&#65306;%0&#65292;%1-%9&#12290;
<pre class="programlisting">
"mov %0, %1"
</pre>
&#25351;&#20196;&#20013;&#20351;&#29992;&#21344;&#20301;&#31526;&#34920;&#31034;&#30340;&#25805;&#20316;&#25968;&#65292;&#24635;&#34987;&#35270;&#20026;long&#22411;&#65288;4&#20010;&#23383;&#33410;&#65289;&#65292;&#20294;&#23545;&#20854;&#26045;&#21152;&#30340;&#25805;&#20316;&#26681;&#25454;&#25351;&#20196;&#21487;&#20197;&#26159;&#23383;&#25110;&#32773;&#23383;&#33410;&#65292;&#24403;&#25226;&#25805;&#20316;
&#25968;&#24403;&#20316;&#23383;&#25110;&#32773;&#23383;&#33410;&#20351;&#29992;&#26102;&#65292;&#40664;&#35748;&#20026;&#20302;&#23383;&#25110;&#32773;&#20302;&#23383;&#33410;&#12290;&#23545;&#23383;&#33410;&#25805;&#20316;&#21487;&#20197;&#26174;&#24335;&#30340;&#25351;&#26126;&#26159;&#20302;&#23383;&#33410;&#36824;&#26159;&#27425;&#23383;&#33410;&#12290;&#26041;&#27861;&#26159;&#22312;%&#21644;&#24207;&#21495;&#20043;&#38388;&#25554;&#20837;&#19968;&#20010;&#23383;&#27597;&#65292;&#8220;b&#8221;&#20195;&#34920;&#20302;&#23383;&#33410;&#65292;&#8220;h&#8221;&#20195;&#34920;&#39640;&#23383;&#33410;&#65292;&#20363;&#22914;&#65306;%h1&#12290;
</div>
<div class="sect3" title="5.5.2. &#36755;&#20986;&#37096;&#20998;"><div class="titlepage"><div><div><h4 class="title"><a name="idp80363612"></a>5.5.2. &#36755;&#20986;&#37096;&#20998;</h4></div></div></div>
&#36755;&#20986;&#37096;&#20998;&#25551;&#36848;&#36755;&#20986;&#25805;&#20316;&#25968;&#65292;&#19981;&#21516;&#30340;&#25805;&#20316;&#25968;&#25551;&#36848;&#31526;&#20043;&#38388;&#29992;&#36887;&#21495;&#26684;&#24320;&#65292;&#27599;&#20010;&#25805;&#20316;&#25968;&#25551;&#36848;&#31526;&#30001;&#38480;&#23450;&#23383;&#31526;&#20018;&#21644;C &#35821;&#35328;&#21464;&#37327;&#32452;&#25104;&#12290;&#27599;&#20010;&#36755;&#20986;&#25805;&#20316;&#25968;&#30340;&#38480;&#23450;&#23383;&#31526;&#20018;&#24517;&#39035;&#21253;&#21547;&#8220;=&#8221;&#34920;&#31034;&#20182;&#26159;&#19968;&#20010;&#36755;&#20986;&#25805;&#20316;&#25968;&#12290;
<pre class="programlisting">
"=r" (result)  /* 'r' is Constraint and result is a C variable */
</pre>
</div>
<div class="sect3" title="5.5.3. &#36755;&#20837;&#37096;&#20998;"><div class="titlepage"><div><div><h4 class="title"><a name="idp80364684"></a>5.5.3. &#36755;&#20837;&#37096;&#20998;</h4></div></div></div>
&#36755;&#20837;&#37096;&#20998;&#25551;&#36848;&#36755;&#20837;&#25805;&#20316;&#25968;&#65292;&#19981;&#21516;&#30340;&#25805;&#20316;&#25968;&#25551;&#36848;&#31526;&#20043;&#38388;&#20351;&#29992;&#36887;&#21495;&#26684;&#24320;&#65292;&#27599;&#20010;&#25805;&#20316;&#25968;&#25551;&#36848;&#31526;&#30001;&#38480;&#23450;&#23383;&#31526;&#20018;&#21644;C&#35821;&#35328;&#34920;&#36798;&#24335;&#25110;&#32773;C&#35821;&#35328;&#21464;&#37327;&#32452;&#25104;&#12290;
<pre class="programlisting">
"r" (value)   /* 'r' is Constraint and value is a C variable */
</pre>
</div>
<div class="sect3" title="5.5.4. &#20462;&#25913;&#37096;&#20998;"><div class="titlepage"><div><div><h4 class="title"><a name="idp80365628"></a>5.5.4. &#20462;&#25913;&#37096;&#20998;</h4></div></div></div>
&#20462;&#25913;&#37096;&#20998;&#65288;modify&#65289;:&#36825;&#37096;&#20998;&#24120;&#24120;&#20197;&#8220;memory&#8221;&#20026;&#32422;&#26463;&#26465;&#20214;&#65292;&#20197;&#34920;&#31034;&#25805;&#20316;&#23436;&#25104;&#21518;&#20869;&#23384;&#20013;&#30340;&#20869;&#23481;&#24050;&#26377;&#25913;&#21464;&#65292;&#22914;&#26524;&#21407;&#26469;&#26576;&#20010;&#23492;&#23384;&#22120;&#30340;&#20869;&#23481;&#26469;&#33258;&#20869;&#23384;&#65292;&#37027;&#20040;&#29616;&#22312;&#20869;&#23384;&#20013;&#36825;&#20010;&#21333;&#20803;&#30340;&#20869;&#23481;&#24050;&#32463;&#25913;&#21464;&#12290; Linux&#31995;&#32479;&#20869;&#23384;&#23631;&#38556;&#23601;&#26159;&#26681;&#25454;&#36825;&#19968;&#32422;&#26463;&#26465;&#20214;&#23454;&#29616;&#30340;&#65292;&#36825;&#32452;&#32455;&#20102;&#32534;&#35793;&#22120;&#23545;&#20869;&#23384;&#23631;&#38556;&#21069;&#21518;&#30340;&#35821;&#21477;&#22312;&#20248;&#21270;&#26102;&#25913;&#21464;&#36816;&#34892;&#39034;&#24207;&#12290;
<pre class="programlisting">
include/linux/compiler-gcc.h
#define barrier() __asm__ __volatile__("": : :"memory")
</pre>
&#19968;&#20010;&#23436;&#25972;&#30340;&#20363;&#23376;&#22914;&#19979;&#25152;&#31034;&#65306;&#23427;&#23558;&#36755;&#20837;&#21464;&#37327;&#30340;&#20540;&#31227;&#21160;&#21040;&#36755;&#20986;&#21464;&#37327;&#20013;&#65292;&#24182;&#23454;&#29616;&#20869;&#23384;&#23631;&#38556;&#12290;__volatile__&#21487;&#20197;&#38459;&#27490;&#32534;&#35793;&#22120;&#20248;&#21270;&#27719;&#32534;&#20195;&#30721;&#12290;
<pre class="programlisting">
/* %0 refers to "=r" (input) and %1 refers to "r" (output) */
__asm__ __volatile__("mov %0, %1" : "=r" (output) : "r" (input)&#65306;"memory");
</pre>
</div>
<div class="sect3" title="5.5.5. &#38480;&#21046;&#23383;&#31526;"><div class="titlepage"><div><div><h4 class="title"><a name="idp80367500"></a>5.5.5. &#38480;&#21046;&#23383;&#31526;</h4></div></div></div>
<p>
&#23427;&#20204;&#30340;&#20316;&#29992;&#26159;&#25351;&#31034;&#32534;&#35793;&#22120;&#22914;&#20309;&#22788;&#29702;&#20854;&#21518;&#30340;C&#35821;&#35328;&#21464;&#37327;&#19982;&#25351;&#20196;&#25805;&#20316;&#25968;&#20043;&#38388;&#30340;&#20851;&#31995;&#12290;&#24212;&#35813;&#30693;&#36947;&#27599;&#19968;&#26465;&#27719;&#32534;&#25351;&#20196;&#21482;&#25509;&#21463;&#29305;&#23450;&#31867;&#22411;&#30340;&#25805;&#20316;&#25968;&#12290;&#20363;&#22914;&#65306;&#36339;&#36716;&#25351;&#20196;&#26399;&#26395;&#30340;&#36339;&#36716;&#30446;&#26631;&#22320;&#22336;&#12290;&#19981;&#26159;&#25152;&#26377;&#30340;&#20869;&#23384;&#22320;&#22336;&#37117;&#26159;&#26377;&#25928;&#30340;&#12290;&#22240;&#20026;&#26368;&#21518;&#30340;opcode &#21482;&#25509;&#21463;24&#20301;&#20559;&#31227;&#12290;&#20294;&#30683;&#30462;&#30340;&#26159;&#36339;&#36716;&#25351;&#20196;&#21644;&#25968;&#25454;&#20132;&#25442;&#25351;&#20196;&#37117;&#24076;&#26395;&#23492;&#23384;&#22120;&#20013;&#23384;&#20648;&#30340;&#26159;32&#20301;&#30340;&#30446;&#26631;&#22320;&#22336;&#12290;&#22312;&#25152;&#26377;&#30340;&#20363;&#23376;&#20013;&#65292;C&#20256;&#32473;operand &#30340;&#21487;&#33021;&#26159;&#20989;&#25968;&#25351;&#38024;&#12290;&#25152;&#20197;&#38754;&#23545;&#20256;&#32473;&#20869;&#23884;&#27719;&#32534;&#30340;&#24120;&#37327;&#12289;&#25351;&#38024;&#12289;&#21464;&#37327;&#65292;&#32534;&#35793;&#22120;&#24517;&#39035;&#35201;&#30693;&#36947;&#24590;&#26679;&#32452;&#32455;&#21040;&#27719;&#32534;&#20195;&#30721;&#20013;&#12290;
</p>
<p>&#23545;&#20110;ARM &#26680;&#30340;&#22788;&#29702;&#22120;&#65292;GCC 4 &#25552;&#20379;&#20102;&#20197;&#19979;&#30340;&#38480;&#21046;&#12290;&#20854;&#20013;&#19968;&#20123;&#26159;&#19981;&#21516;&#20307;&#31995;&#26550;&#26500;&#36890;&#29992;&#30340;&#65292;&#21478;&#19968;&#20123;&#21017;&#19981;&#26159;&#12290;&#36825;&#21487;&#20197;&#21442;&#32771;gcc&#23448;&#26041;&#25163;&#20876;Constraints&#30456;&#20851;&#31456;&#33410;&#12290;
</p><div class="table"><a name="idp80368980"></a><p class="title"><b>&#34920; 10. &#20869;&#23884;&#27719;&#32534;&#38480;&#21046;&#31526;&#34920;</b></p><div class="table-contents">
<table summary="&#20869;&#23884;&#27719;&#32534;&#38480;&#21046;&#31526;&#34920;" border="1"><colgroup><col><col></colgroup><thead><tr><th>&#38480;&#21046;&#31526;</th><th>&#21547;&#20041;</th></tr></thead><tbody><tr><td>m</td><td>&#20869;&#23384;&#21464;&#37327;</td></tr><tr><td>o</td><td>&#25805;&#20316;&#25968;&#20026;&#20869;&#23384;&#21464;&#37327;&#65292;&#20294;&#26159;&#20854;&#23547;&#22336;&#26041;&#24335;&#26159;&#20559;&#31227;&#37327;&#31867;&#22411;&#65292;&#25152;&#20197;&#26377;&#22823;&#23567;&#38480;&#21046;&#65292;<br>&#23545;&#20110;ARM&#26469;&#35828;&#65292;&#20854;&#22320;&#22336;&#24517;&#39035;&#22312;&#24403;&#21069;pc&#30340;+-32MB&#21306;&#38388;&#20869;</td></tr><tr><td>V</td><td>&#25805;&#20316;&#25968;&#20026;&#20869;&#23384;&#21464;&#37327;&#65292;&#20294;&#23547;&#22336;&#26041;&#24335;&#19981;&#26159;&#20559;&#31227;&#37327;&#31867;&#22411;&#65292;&#23646;&#20110;m&#20294;&#19981;&#23646;&#20110;o&#12290;</td></tr><tr><td>r</td><td>&#23558;&#36755;&#20837;&#21464;&#37327;&#25918;&#20837;&#36890;&#29992;&#23492;&#23384;&#22120;</td></tr><tr><td>I</td><td>0-255&#20043;&#38388;&#30340;2&#30340;&#24130;&#25351;&#25968;?</td></tr></tbody></table>
</div></div><p><br class="table-break">
</p>
</div>
</div>
<div class="footnotes"><br><hr width="100" align="left"><div class="footnote"><p><sup>[<a name="ftn.idp80334548" href="#idp80334548" class="para">2</a>] </sup>&#23427;&#30340;&#22810;&#25968;&#34920;&#29616;&#24418;&#24335;&#26159;&#27719;&#32534;&#31243;&#24207;&#20351;&#29992;svc
&#23454;&#29616;&#31995;&#32479;&#35843;&#29992;&#21644;b/bl&#25351;&#20196;&#35843;&#29992;C&#35821;&#35328;&#20013;&#30340;&#20989;&#25968;&#65307;C&#35821;&#35328;&#20013;&#35843;&#29992;&#27719;&#32534;&#23376;&#31243;&#24207;&#12290;</p></div><div class="footnote"><p><sup>[<a name="ftn.idp80335836" href="#idp80335836" class="para">3</a>] </sup>Thumb&#19981;&#26159;&#35752;&#35770;&#30340;&#37325;&#28857;&#65292;&#25509;&#19979;&#20250;&#26377;&#24847;&#24573;&#30053;&#23545;&#23427;&#30340;&#35770;&#36848;&#12290;</p></div></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="ar01s04.html">&#19978;&#19968;&#39029;</a> </td><td width="20%" align="center"> </td><td width="40%" align="right"> <a accesskey="n" href="ar01s06.html">&#19979;&#19968;&#39029;</a></td></tr><tr><td width="40%" align="left" valign="top">4. &#25209;&#37327;&#21152;&#36733;&#21644;&#23384;&#20648;&#25351;&#20196;&#23454;&#36341; </td><td width="20%" align="center"><a accesskey="h" href="index.html">&#36215;&#22987;&#39029;</a></td><td width="40%" align="right" valign="top"> 6. Uboot&#21551;&#21160;&#20998;&#26512;</td></tr></table></div></body></html>
